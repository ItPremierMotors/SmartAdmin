@model SmartAdmin.Models.Taller.CapacidadTallerViewModel
@{
    var turnoActual = (int)Model.Turno;
}

<form id="formEditarCapacidad">
    <input type="hidden" id="EditCapacidadId" value="@Model.CapacidadId" />

    <div class="mb-3">
        <label class="form-label">Turno <span class="text-danger">*</span></label>
        <select class="form-select" id="EditTurno" required>
            @foreach (var t in new[] { (1, "Manana"), (2, "Tarde"), (3, "Completo") })
            {
                if (turnoActual == t.Item1)
                {
                    <option value="@t.Item1" selected>@t.Item2</option>
                }
                else
                {
                    <option value="@t.Item1">@t.Item2</option>
                }
            }
        </select>
    </div>

    <div class="row">
        <div class="col-md-6 mb-3">
            <label class="form-label">Tecnicos Disponibles <span class="text-danger">*</span></label>
            <input type="number" class="form-control" id="EditTecnicos" min="1" max="50" value="@Model.TecnicosDisponibles" required />
        </div>
        <div class="col-md-6 mb-3">
            <label class="form-label">Bahias Disponibles <span class="text-danger">*</span></label>
            <input type="number" class="form-control" id="EditBahias" min="1" max="50" value="@Model.BahiasDisponibles" required />
        </div>
    </div>

    <div class="mb-3">
        <label class="form-label">Minutos Disponibles <span class="text-danger">*</span></label>
        <input type="number" class="form-control" id="EditMinutos" min="60" max="1440" value="@Model.MinutosDisponibles" required />
        <small class="text-muted">@(Model.MinutosDisponibles / 60) horas</small>
    </div>

    <div class="row">
        <div class="col-md-6 mb-3">
            <div class="form-check">
                <input class="form-check-input" type="checkbox" id="EditPermiteSobretiempo" @(Model.PermiteSobretiempo ? "checked" : "") />
                <label class="form-check-label" for="EditPermiteSobretiempo">Permitir sobretiempo</label>
            </div>
        </div>
        <div class="col-md-6 mb-3">
            <div class="form-check">
                <input class="form-check-input" type="checkbox" id="EditPermiteAgendamiento" @(Model.PermiteAgendamiento ? "checked" : "") />
                <label class="form-check-label" for="EditPermiteAgendamiento">Permitir agendamiento</label>
            </div>
        </div>
    </div>

    <div class="mb-3">
        <label class="form-label">Observaciones</label>
        <textarea class="form-control" id="EditObservaciones" rows="2">@Model.Observaciones</textarea>
    </div>
</form>

<div class="d-flex justify-content-end gap-2 mt-4 pt-3 border-top">
    <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">
        <i class="fas fa-times me-1"></i> Cancelar
    </button>
    <button type="button" class="btn btn-primary" id="btnEditarCapacidad" onclick="confirmarEditarCapacidad()">
        <i class="fas fa-save me-1"></i> Guardar Cambios
    </button>
</div>
